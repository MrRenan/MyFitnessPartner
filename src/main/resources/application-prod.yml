spring:
  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
    username: ${POSTGRES_USER}
    password: ${POSTGRES_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 10
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        jdbc:
          lob:
            non_contextual_creation: true

# Google Gemini Configuration
gemini:
  api-key: ${GEMINI_API_KEY}
  model: ${GEMINI_MODEL:gemini-1.5-flash}
  max-tokens: ${GEMINI_MAX_TOKENS:2048}
  temperature: ${GEMINI_TEMPERATURE:0.7}

# WhatsApp Business API (Meta) Configuration
whatsapp:
  api-url: ${WHATSAPP_API_URL:https://graph.facebook.com/v18.0}
  phone-number-id: ${WHATSAPP_PHONE_NUMBER_ID}
  business-account-id: ${WHATSAPP_BUSINESS_ACCOUNT_ID}
  access-token: ${WHATSAPP_ACCESS_TOKEN}
  verify-token: ${WHATSAPP_VERIFY_TOKEN}
  webhook-url: ${WHATSAPP_WEBHOOK_URL}

# Application specific configs
app:
  fitness:
    default-calorie-goal: 2000
    max-daily-meals: 10

  ai:
    system-prompt: |
      Você é um assistente fitness pessoal especializado em nutrição e exercícios.
      Seu objetivo é ajudar o usuário a alcançar suas metas de saúde através de:
      - Cálculo preciso de calorias de refeições
      - Orientações sobre alimentação saudável
      - Sugestões de exercícios e treinos
      - Motivação e acompanhamento de progresso
      
      Seja sempre cordial, motivador e forneça informações baseadas em evidências científicas.
      Quando calcular calorias, seja o mais preciso possível e explique sua estimativa.

logging:
  level:
    root: INFO
    io.github.mrrenan.myfitnesspartner: INFO
  file:
    name: /var/log/myfitnesspartner/application.log
    max-size: 10MB
    max-history: 30